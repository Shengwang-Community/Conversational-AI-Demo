---
description: iOS ConvoAI 项目功能需求描述模板 - 指导如何描述需求以获得符合规范的代码
globs:
  - "**/*.swift"
  - "**/*.strings"
  - "Scenes/ConvoAI/**/*"
alwaysApply: true
---

# iOS ConvoAI 项目功能需求描述模板

## 功能需求描述规范

### 1. 需求描述模板

#### 标准需求描述格式：

```
功能需求：[功能名称]

## 功能描述
[详细描述这个功能的作用和目的]

## 界面设计
[描述界面布局、交互方式]

## Figma 设计稿信息
- 设计稿链接：[Figma链接]
- 主要颜色：[列出设计稿中使用的主要颜色]
- 需要的图标：[列出需要的图标及其用途]
- 关键尺寸：[重要的尺寸信息]

## 功能要求
- [具体功能点1]
- [具体功能点2]
- [具体功能点3]

## 交互要求
- [用户操作1及其响应]
- [用户操作2及其响应]
- [状态变化说明]

## 技术要求
- 使用项目的多语言规范
- 使用项目的主题颜色系统
- 从Figma下载并使用项目图片资源规范
- [其他特殊技术要求]

请按照项目规范生成完整的功能代码。
```

### 2. 具体使用示例

#### 示例1：聊天输入组件

```
功能需求：聊天输入组件

## 功能描述
实现一个聊天界面的消息输入组件，支持文本输入、发送按钮、以及附加功能按钮。

## 界面设计
- 底部固定的输入框区域
- 左侧：附加功能按钮（相机、相册等）
- 中间：文本输入框，支持多行文本
- 右侧：发送按钮，根据输入状态变化

## Figma 设计稿信息
- 设计稿链接：[具体的Figma链接]
- 主要颜色：
  - 背景色：白色/深色模式
  - 输入框背景：浅灰色
  - 发送按钮：品牌蓝色
  - 文本色：主文本色
- 需要的图标：
  - 相机图标：ic_camera_icon
  - 相册图标：ic_photo_icon  
  - 发送图标：ic_send_icon
- 关键尺寸：
  - 输入框高度：44pt（最小）
  - 按钮尺寸：40x40pt
  - 边距：16pt

## 功能要求
- 支持文本输入和编辑
- 输入内容时发送按钮变为可用状态
- 支持多行文本，自动调整高度
- 点击附加功能按钮显示选项菜单
- 发送消息后清空输入框

## 交互要求
- 点击输入框：弹起键盘，输入框获得焦点
- 输入文本：实时检测内容，更新发送按钮状态
- 点击发送：发送消息，清空输入框，收起键盘
- 点击附加按钮：显示相机、相册等选项

## 技术要求
- 使用项目的多语言规范
- 使用项目的主题颜色系统
- 从Figma下载并使用项目图片资源规范
- 支持键盘高度自适应
- 支持深色/浅色主题切换

请按照项目规范生成完整的功能代码。
```

#### 示例2：设置页面

```
功能需求：应用设置页面

## 功能描述
实现应用的设置页面，包含各种配置选项、用户信息、以及退出登录等功能。

## 界面设计
- 列表式布局，分组显示不同类型的设置
- 每个设置项包含图标、标题、副标题（可选）、右侧操作元素
- 支持开关、箭头导航、显示值等不同类型

## Figma 设计稿信息
- 设计稿链接：[具体的Figma链接]
- 主要颜色：
  - 背景色：主背景色
  - 列表项背景：卡片背景色
  - 分割线：线条色
  - 标题文本：主文本色
  - 副标题文本：次要文本色
- 需要的图标：
  - 用户头像：ic_profile_icon
  - 通知设置：ic_notification_icon
  - 隐私设置：ic_privacy_icon
  - 帮助中心：ic_help_icon
  - 退出登录：ic_logout_icon
  - 箭头：ic_arrow_right_icon
- 关键尺寸：
  - 列表项高度：56pt
  - 图标尺寸：24x24pt
  - 分组间距：32pt

## 功能要求
- 显示用户基本信息
- 通知开关设置
- 隐私相关设置
- 帮助和反馈入口
- 退出登录功能
- 版本信息显示

## 交互要求
- 点击用户信息：进入个人资料页面
- 点击开关设置：切换相应功能状态
- 点击箭头项：进入对应的详细设置页面
- 点击退出登录：显示确认弹窗
- 确认退出：清除用户数据，返回登录页

## 技术要求
- 使用项目的多语言规范
- 使用项目的主题颜色系统
- 从Figma下载并使用项目图片资源规范
- 支持设置项的动态配置
- 支持深色/浅色主题

请按照项目规范生成完整的功能代码。
```

### 3. 关键要素说明

#### 必须包含的信息：
1. **功能描述**：清楚说明要实现什么
2. **界面设计**：描述布局和视觉效果
3. **Figma信息**：具体的设计稿数据
4. **功能要求**：详细的功能点列表
5. **交互要求**：用户操作和系统响应
6. **技术要求**：必须声明使用项目规范

#### Figma 设计稿信息的重要性：
- **颜色信息**：帮助AI从现有颜色文件中选择匹配的颜色
- **图标信息**：指导AI使用Figma MCP工具下载正确的图标
- **尺寸信息**：确保布局符合设计要求

#### 技术要求的标准声明：
```
## 技术要求
- 使用项目的多语言规范
- 使用项目的主题颜色系统
- 从Figma下载并使用项目图片资源规范
- [其他特殊要求]
```

### 4. 快速需求模板

#### 简化版模板（适用于简单功能）：

```
功能需求：[功能名称]

描述：[简要说明功能]

设计稿：
- 颜色：[主要颜色]
- 图标：[需要的图标]
- 布局：[布局说明]

要求：
- [功能要求1]
- [功能要求2]
- 使用项目多语言、颜色、图片规范

请生成符合项目规范的代码。
```

### 5. 使用建议

#### 描述需求时的注意事项：
1. **具体明确**：避免模糊的描述，给出具体的功能点
2. **设计优先**：先描述界面和交互，再说明技术实现
3. **规范声明**：明确要求使用项目规范
4. **Figma数据**：提供具体的设计稿信息
5. **交互细节**：说明用户操作和系统响应

#### 常用的需求描述短语：
- "实现一个..."
- "支持..."
- "当用户...时，系统应该..."
- "界面包含..."
- "使用项目的...规范"
- "从Figma设计稿中..."

### 6. AI响应预期

#### 当你按照模板描述需求时，AI应该：
1. **自动应用多语言规范**：在代码中使用ResourceManager.L10n
2. **自动应用颜色规范**：使用UIColor.themColor()方法
3. **自动处理图片资源**：使用Figma MCP下载图片，使用UIImage.ag_named()
4. **生成完整代码**：包含界面、交互、多语言支持
5. **遵循项目架构**：符合现有的代码结构和规范

通过使用这个模板，你可以确保AI生成的代码完全符合项目规范！
